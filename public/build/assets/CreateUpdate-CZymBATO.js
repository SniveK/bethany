import{W as b,j as e,Y as S,a as _}from"./app-jmoJDbar.js";import{A as F,D as k,a as D,b as N,c as P}from"./AuthenticatedLayout-DtxojNMU.js";import{B as c}from"./index-MgfXRgN3.js";import{C as L,a as A,b as T,c as y}from"./card-Bj2iuOe1.js";import{I as r}from"./input-BH5aQeuQ.js";import{L as a}from"./label-C6sNupQL.js";import{S as B,a as E,b as I,c as M,d as m}from"./select-CKwlxavO.js";const h="Accounts";function z({auth:x,roles:j,user:s}){const{data:l,setData:o,post:p,put:u,processing:f,errors:g,reset:R}=b({new_email:s?s.email:"",new_password:"",name:s?s.name:"",gender:s?s.profile.gender:"",address:s?s.profile.address:"",phone:s?s.profile.phone:"",nij:s?s.profile.nij:"",roles:s?s.roles.map(n=>n.id):[]});console.log(g),console.log(l);function d(n){const i=n.target.id,t=n.target.value;o(v=>({...v,[i]:t}))}function w(n){l.roles.includes(n)?o(i=>({...i,roles:i.roles.filter(t=>t!==t)})):o(i=>({...i,roles:[...i.roles,n]}))}function C(n){n.preventDefault(),s?u(route("account.update",s.id)):p(route("account.store"))}return e.jsxs(F,{user:x.user,title:h,children:[e.jsx(S,{title:h}),e.jsx("div",{className:"flex ",children:e.jsx(c,{children:e.jsx(_,{href:route("account.index"),children:"Back"})})}),e.jsxs("form",{onSubmit:C,className:"flex gap-4 flex-col",autoComplete:"off",children:[e.jsxs(L,{children:[e.jsx(A,{children:e.jsxs(T,{children:[s?"Perbarui":"Buat"," ",h]})}),e.jsx(y,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"new_email",children:"Email"}),e.jsx(r,{id:"new_email",name:"new_email",value:l.new_email,onChange:d,autoComplete:"new-email",disabled:!!s})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"new_password",children:"Password"}),e.jsx(r,{id:"new_password",name:"new_password",value:l.new_password,onChange:d,type:"password",autoComplete:"new-password",disabled:!!s})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(r,{id:"name",value:l.name,onChange:d})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"gender",children:"Gender"}),e.jsxs(B,{onValueChange:n=>o("gender",n),value:l.gender,children:[e.jsx(E,{children:e.jsx(I,{placeholder:"Pilih"})}),e.jsxs(M,{children:[e.jsx(m,{value:"L",children:"Laki-laki"}),e.jsx(m,{value:"P",children:"Perempuan"})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"address",children:"Address"}),e.jsx(r,{id:"address",value:l.address,onChange:d})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"phone",children:"Phone"}),e.jsx(r,{id:"phone",value:l.phone,onChange:d})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"nij",children:"NIJ"}),e.jsx(r,{id:"nij",value:l.nij,onChange:d})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(a,{htmlFor:"roles",children:"Roles"}),e.jsxs(k,{children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{className:"w-full",children:"Select Roles"})}),e.jsx(N,{children:j.map(n=>e.jsx(P,{checked:l.roles.includes(n.id),onCheckedChange:()=>w(n.id),children:n.name},n.id))})]})]})]})})]}),e.jsx(c,{type:"submit",disabled:f,children:"Submit"})]})]})}export{z as default};
